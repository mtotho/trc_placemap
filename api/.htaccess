RewriteEngine On
#RewriteBase /cs189/site/

RewriteCond $1 !^(index\.php|public|robots\.txt)
RewriteRule ^(.+)$ index.php/$1 [QSA,L]